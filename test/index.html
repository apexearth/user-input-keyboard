<!DOCTYPE html>
<html>
<head>
    <title>user-input-keyboard - User Test</title>
    <script src="../build/module.js"></script>
</head>
<body style="background-color: #222">

<div style="position: fixed; left: 50%; top: 20%; margin-left: -300px;
                            width: 600px; background-color: #444;
                            color: #ccc; font-size: 12pt; padding: 20px;">
    <pre>var keyboard = window.keyboardInput(document)</pre>
    <pre id="output" style='margin: 0'></pre>
</div>

<script type="text/javascript">
    var keyboard = window.keyboardInput(document); // Default target is `document.body`
    keyboard.input.on("keydown", handleKeyEvent);
    keyboard.input.on("keyup", handleKeyEvent);
    function handleKeyEvent(e) {
        document.getElementById("output").innerText = "keyboard == " + JSON.stringify(convert(keyboard), null, 2)
    }

    function convert(obj) {
        var newObj = {};
        var ignore = [
            "input", "_events"
        ];
        for (var key in obj) {
            if (!obj.hasOwnProperty(key)) continue;
            if (ignore.indexOf(key) >= 0) continue;
            newObj[key] = obj[key];
        }
        return newObj;
    }
</script>

</body>
</html>